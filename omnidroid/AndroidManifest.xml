<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="edu.nyu.cs.omnidroid" android:versionCode="1"
	android:versionName="1.0">
 

	<application android:icon="@drawable/icon" android:label="@string/app_name"
		android:debuggable="true">
		
		<!--  TODO: (markww) Check if this is used anymore. -->
		<!--  We need to start our service on boot-up -->
		<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
		<receiver android:name=".bkgservice.Starter">
			<intent-filter>
				<action android:name="android.intent.action.BOOT_COMPLETED" />
			</intent-filter>
			<intent-filter>
				<action android:name="OmniRestart" />
			</intent-filter>
		</receiver>
		
		
		<!--  Start UI activity definitions. -->
		<activity android:name=".ui.simple.ActivityMain"
                   android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        
        <activity android:name=".ui.simple.ActivityChooseRootEvent"
                  android:label="Choose a root event">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity android:name=".ui.simple.ActivityChooseFiltersAndActions"
                  android:label="Add filters and actions to your rule!">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>        

        <activity android:name=".ui.simple.ActivityDlgAttributes"
                  android:label="Attributes"
                  android:theme="@android:style/Theme.Dialog">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>        

        <activity android:name=".ui.simple.ActivityDlgFilters"
                  android:label="Filters"
                  android:theme="@android:style/Theme.Dialog">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity android:name=".ui.simple.ActivityDlgFilterInput"
                  android:label="Filter Input"
                  android:theme="@android:style/Theme.Dialog">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity android:name=".ui.simple.ActivityDlgApplications"
                  android:label="Applications"
                  android:theme="@android:style/Theme.Dialog">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity android:name=".ui.simple.ActivityDlgActions"
                  android:label="Actions"
                  android:theme="@android:style/Theme.Dialog">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        <activity android:name=".ui.simple.ActivityDlgActionInput"
                  android:label="Action Input"
                  android:theme="@android:style/Theme.Dialog">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        
        <activity android:name=".ui.simple.ActivitySavedRules"
                  android:label="Saved Rules">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        
        <activity android:name=".ui.simple.ActivityDlgRuleName"
                  android:label="Rule Name"
                  android:theme="@android:style/Theme.Dialog">
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
		<!--  End UI activity definitions. -->


		<!--  TODO: (markww) Check if following activity defs are used any more. -->        

		<!--  The service that throws actions to our applications -->
		<service android:name=".core.HandlerService"></service>

		<!--
			Our Content Provider that stores data to link between the ThrowerApp
			and the CatcherApp
		-->
		<provider android:name=".core.CP" android:authorities="edu.nyu.cs.omnidroid.core.maincp" />

		<!--  Service/receiver that runs to catch events -->
		<service android:name=".bkgservice.BRService" />
		<receiver android:name=".bkgservice.BCReceiver">
			<intent-filter>
				<action android:name="android.provider.Telephony.SMS_RECEIVED" />
			</intent-filter>
			<intent-filter>
				<action android:name="android.intent.action.PHONE_STATE" />
			</intent-filter>
		</receiver>

		<!--  Thrower Test Provider -->
		<provider android:name=".external.eventapp.ExternalCP"
			android:authorities="edu.nyu.cs.omnidroid.external.eventapp.cp" />

		<!--
			Activity used to by the event catcher to determine what actions to
			catch for a given application
		-->
		
		<!--  External EventApp testcase -->
		<activity android:name=".external.eventapp.ExternalCPActivity"
			android:label="@string/event_app">
		</activity>

		<service android:name=".external.actions.SMSService">
			<intent-filter>
				<action android:name="omnidroid.intent.action.SMS_SEND" />
			</intent-filter>
		</service>

	</application>

	<!--
		Permissions that OmniDroid registers so it can access more complex
		functionality
	-->
	<uses-permission android:name="android.permission.SEND_SMS" />
	<uses-permission android:name="android.permission.RECEIVE_SMS" />
	<uses-permission android:name="android.permission.READ_SMS" />
	<uses-permission android:name="android.permission.WRITE_SMS" />
	<uses-permission android:name="android.permission.READ_CONTACTS" />
	<uses-permission android:name="android.permission.CALL_PHONE" />
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
	<uses-permission android:name="android.permission.INTERNET" />
</manifest>