<project name="build-omnidroid" default="build" basedir="checkout/omnidroid"> 

    <property name="build.dir" location="/home/acase/classes/itp/build" />
    <property name="build.plugin.dir" location="${basedir}/edu.nyu.cs.omnidroid.build" />
<!--
    <property name="test.plugin.dir" location="${basedir}/edu.nyu.cs.omnidroid.test" />
-->
    
    <path id="svnant.classpath">
      <pathelement location="${build.dir}/bin/svnant.jar" />
      <pathelement location="${build.dir}/bin/svnClientAdapter.jar" />
    </path>

    <taskdef resource="svntask.properties" classpathref="svnant.classpath"/>

    <target name="build" description="call the omnidroid buildfile" depends="copy.properties">
    	<svn javahl="false">
           <update dir="${basedir}"/>
        </svn>
        <ant antfile="${build.plugin.dir}/build.xml" inheritAll="false" />
    </target>

    <target name="copy.properties" description="copy local build properties into the build plugin directory">
      <copy file="${build.dir}/cruisecontrol/build.local.properties" tofile="${build.plugin.dir}/build.local.properties" overwrite="true" />
<!--
      <copy file="${build.dir}/cruisecontrol/test.local.properties" tofile="${test.plugin.dir}/test.local.properties" overwrite="true" />
-->
    </target>
</project>
